---
name: impl
description: Implementation cycle skill to iteratively develop, review, and refine code in small scopes until completion.
user-invocable: true
---

# impl

このスキルは、ユーザーの要件を満たすためにコードを段階的に実装、レビュー、改善するプロセスを管理します。大きな変更を小さなスコープに分割し、各スコープごとに開発とレビューを繰り返すことで、高品質な実装を目指します。

## 実行プロセス

### フェーズ1: 要件分析とスコープ分割

1. 要件を「独立して実装・テストできる単位」に分ける
2. 依存関係を整理して実装順を決める
3. Todo に並べる

- このフェーズでは必要に応じてコードベースの探索・検索・理解を行い、要件を正確に把握する
- 不確定な仕様、要件などがある場合は必ずユーザーに確認する
- 破壊的変更がある場合は機能ごとに下位互換性を保つかどうかを確認する

### フェーズ2: 実装サイクル（各スコープに対して繰り返し）

各スコープに対して以下を実行：

#### ステップ2-1: Plan
- `Plan`エージェントを利用し、スコープの実装計画を立てる
- 変更箇所、影響範囲、テスト要件を明確にする
- TodoWriteツールでタスクを管理する

#### ステップ2-2: Develop
- `developer`エージェントを利用し、実装を行う
- 現在のスコープの要件を明確に伝える
- 最小限の変更で要件を満たす実装を行う
- テストも含めて実装する

#### ステップ2-3: Review
- `reviewer`エージェントを利用し、コードレビューを行う
- 要件を満たしているか、コード品質、テストの十分性を評価する

#### ステップ2-3: 改善サイクル
- レビューで指摘された問題がある場合：
  - 再度`developer`エージェントで修正
  - 再度`reviewer`エージェントでレビュー
  - 指摘事項がなくなるまで繰り返す
- 指摘事項がなくなったら、次のスコープへ進む

### フェーズ3: 完了確認

1. すべてのスコープの実装が完了したことを確認
2. 全体のテストを実行して動作確認
3. 実装内容のサマリーをユーザーに報告

## ルール

- 各スコープは独立して実装・テスト可能な単位にする
- レビューで🔴（重大）または🟠（重要）の指摘がある場合は必ず修正する
- 🟡（提案）や🟢（軽微）は、明確なメリットがある場合のみ対応
- 各フェーズの進捗はTodoWriteツールで管理する
