---
name: impl
description: "要件を適切なスコープに分割し、開発とレビューのサイクルを繰り返し実行するスキル。"
user-invocable: true
---

# 実装サイクルスキル

要件を分割し、developエージェント と reviewエージェントを交互に使用して、高品質な実装を完成させます。

## 実行プロセス

### フェーズ1: 要件分析とスコープ分割

1. ユーザーの要件を分析する
2. 要件を適切なスコープ（実装単位）に分割する
3. 各スコープの依存関係を特定し、実装順序を決定する
4. TodoWrite ツールでタスクリストを作成する

### フェーズ2: 実装サイクル（各スコープに対して繰り返し）

各スコープに対して以下を実行：

#### ステップA: プランニング
- スコープの要件を明確にする
- 影響を受けるファイルとコンポーネントを特定
- 既存のコードベースのパターンを確認

#### ステップB: 開発フェーズ
- Task ツールで `develop` エージェントを起動
- 現在のスコープの要件を明確に伝える
- 最小限の変更で要件を満たす実装を行う
- テストも含めて実装する

#### ステップC: レビューフェーズ
- Task ツールで `review` エージェントを起動
- 実装されたコードをレビューする
- 問題点、改善点を特定する

#### ステップD: 改善サイクル
- レビューで指摘された問題がある場合：
  - 再度 `develop` エージェントで修正を実施
  - 再度 `review` エージェントでレビュー
  - 指摘事項がなくなるまで繰り返す
- 指摘事項がなくなったら、次のスコープへ進む

### フェーズ3: 完了確認

1. すべてのスコープの実装が完了したことを確認
2. 全体のテストを実行して動作確認
3. 実装内容のサマリーをユーザーに報告

## 重要なルール

- 各スコープは独立して実装・テスト可能な単位にする
- レビューで 🔴（重大）または 🟠（重要）の指摘がある場合は必ず修正する
- 🟡（提案）や 🟢（軽微）は、明確なメリットがある場合のみ対応
- 各フェーズの進捗は TodoWrite ツールで管理する

## エージェント起動時のプロンプト例

### developer 起動時
```
以下の要件を実装してください：
[要件の詳細]

コンテキスト：
- 対象ファイル: [ファイルパス]
- 関連する既存コード: [関連情報]
- テスト要件: [テストの期待]
```

### reviewer 起動時
```
以下の実装をレビューしてください：
[変更されたファイルのリスト]

レビュー観点：
- 要件を満たしているか
- コード品質は適切か
- テストは十分か
```
